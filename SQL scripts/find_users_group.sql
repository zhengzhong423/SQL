SELECT distinct USERs.* FROM USERS, CONNECTION, GROUPS, POST WHERE GROUPS.GROUPID IN (SELECT CONNECTION.TO1 FROM CONNECTION GROUP BY CONNECTION.TO1 HAVING COUNT(*)>=10) AND GROUPS.GROUPID=CONNECTION.TO1 AND CONNECTION.FROM1=POST.SENDERID AND POST.SENDERID=USERS.USERID AND POST.SENDERID NOT IN (SELECT POST.SENDERID FROM POST WHERE  DATE_SUB(CURDATE(), INTERVAL 7 DAY) <= date(post.datetime) GROUP BY POST.POSTID HAVING COUNT(POST.POSTID)<>0);